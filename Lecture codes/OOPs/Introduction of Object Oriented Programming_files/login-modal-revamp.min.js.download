/* JS version 1.2*/
jQuery(document).ready(function(e){e("#loginCaptcha").closest(".modal-form-group").hide();e("#Login").find("input[name=to]").val();e("body").on("click",".login-modal-btn",function(i){i.preventDefault();var n=window.location.href;"A"==e(this).prop("tagName")?n=e(this).attr("href"):"FORM"==e(this).prop("tagName")&&(n=e(this).attr("action")),e(".login-modal-div").find("input[name=to]").val(n),e(".login-modal-div").show()}),e("body").on("keydown","input[required=required]",function(){var i=e(this).val();""==i&&null==i&&null==i||(e(this).removeClass("error-focus"),e(this).closest(".modal-form-group").find(".input-error").remove())});const i=()=>{e("body").css("position",""),e("body").css("overflow",""),window.onscroll=()=>{}};function n(e,i){grecaptcha.ready(function(){grecaptcha.execute("6LdMFNUZAAAAAIuRtzg0piOT-qXCbDF-iQiUi9KY").then(function(n){"forgot-form"===i?document.getElementById("g-recaptcha-response-forgot-form").value=n:document.getElementById("g-recaptcha-response-signup-form").value=n,e(n)})})}function t(i){"to"==i?window.location.href=to:"reset"==i?(q2to3(),e("#ruser").val(e("#fuser").val())):window.location.href==i?window.location.reload(!0):window.location.href=i}e("body").on("click",".close",function(){i(),e(".forgot-div, .register-div").slideUp(),e(".login-div").slideDown(),e(this).closest(".login-modal-div").fadeOut("fast")}),e(document).keypress(function(n){27==n.keyCode&&(i(),e(".forgot-div, .register-div").slideUp(),e(".login-div").slideDown(),e(".login-modal-div").fadeOut("fast"))}),e("body").on("click",".login-modal-div",function(){i(),e(".forgot-div, .register-div").slideUp(),e(".login-div").slideDown(),e(".login-modal-div").fadeOut("fast")}),e("body").on("click",".login-modal-div .modal-content",function(e){e.stopPropagation()}),e("body").on("click",".login-link, .forgot-link",function(){e(this).hasClass("login-link")?(e(".forgot-div").slideUp(),e(".login-div").slideDown()):(e(".login-div").slideUp(),e(".forgot-div").slideDown(),function(e){if(!document.querySelector(`script[src="${e}"]`)){var i=document.createElement("script");i.src=e,document.head.appendChild(i)}}("https://www.google.com/recaptcha/api.js?render=6LdMFNUZAAAAAIuRtzg0piOT-qXCbDF-iQiUi9KY"))}),e("body").on("click",".registerBtn, .signinBtn",function(){e(this).hasClass("registerBtn")?(e(".login-div").slideUp(),e(".register-div").slideDown()):(e(".register-div").slideUp(),e(".login-div").slideDown())}),e(".signup-form").submit(function(i){return i.preventDefault(),this1=e(this),e(".spinner-loading-overlay").show(),""===e(".signup-to-input").value&&(e(".signup-to-input").value=window.location.href),this1.find(".extra").empty(),this1.find("input[type=submit]").attr("disabled",!0),n(function(i){var n=o();e.ajax({type:"POST",url:"https://astage.geeksforgeeks.org/api-post/sign-up/",data:this1.serialize()+"&browserInfo="+JSON.stringify(n)+"&is_invisible_captcha=1",xhrFields:{withCredentials:!0},dataType:"json",success:function(i){if(this1.find("input[type=submit]").attr("disabled",!1),i.redirect)t(i.redirect);else if(i.msg){e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-info">${i.msg}</div>`);this1.find(".extra").find("div").text().trim();grecaptcha.reset()}},error:function(i,n,t){this1.find("input[type=submit]").attr("disabled",!1),e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-danger">${i?.responseJSON?.response}</div>`),console.log("An error occurred"),grecaptcha.reset()},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),grecaptcha.reset()}})},"signup-form"),!1}),e(".signin-form").submit(function(i){i.preventDefault(),this1=e(this),e(".spinner-loading-overlay").show(),""===e(".signin-to-input").value&&(e(".signin-to-input").value=window.location.href),this1.find(".extra").empty(),this1.find("input[type=submit]").attr("disabled",!0);var n=o();return e.ajax({type:"POST",url:"https://authapi.geeksforgeeks.org/api-post/sign-in/",data:e(this).serialize()+"&browserInfo="+JSON.stringify(n),xhrFields:{withCredentials:!0},dataType:"json",success:function(i){this1.find("input[type=submit]").attr("disabled",!1),i.redirect?t(i.redirect):i.response&&(e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-danger">${i.response}</div>`),grecaptcha.reset(loginWidgetId))},error:function(i,n,t){this1.find("input[type=submit]").attr("disabled",!1),e(".spinner-loading-overlay").hide(),errorCodeText=i.responseJSON.response,"Captcha validation needed"==errorCodeText&&(e("#loginCaptcha").closest(".modal-form-group").find("input[name=recaptchaShow]").length||e("#loginCaptcha").closest(".modal-form-group").append('<input name="recaptchaShow" type="hidden" value="1">'),e("#loginCaptcha").closest(".modal-form-group").show()),this1.find(".extra").append(`<div class="alert alert-danger">${i?.responseJSON?.response}</div>`),grecaptcha.reset(loginWidgetId),console.log("An error occurred")},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),grecaptcha.reset(loginWidgetId)}}),!1}),e(".forgot-form").submit(function(i){return i.preventDefault(),this1=e(this),e(".spinner-loading-overlay").show(),this1.find(".extra").empty(),this1.find("input[type=submit]").attr("disabled",!0),this1.find(".reset-button").attr("disabled",!0),n(function(i){var n=o();e.ajax({type:"POST",url:"https://authapi.geeksforgeeks.org/api-post/send-emailcode/",data:e(this1).serialize()+"&server_type=web&browserInfo="+JSON.stringify(n),xhrFields:{withCredentials:!0},dataType:"json",success:function(i){if(this1.find("input[type=submit]").attr("disabled",!1),this1.find(".reset-button").attr("disabled",!1),i.redirect)t(i.redirect);else if(i.msg){e(".spinner-loading-overlay").hide(),this1.find(".extra").append(`<div class="alert alert-info">${i.msg}</div>`);this1.find(".extra").find("div").text().trim();grecaptcha.reset()}},error:function(i,n,t){this1.find("input[type=submit]").attr("disabled",!1),this1.find(".reset-button").attr("disabled",!1),this1.find(".extra").append(`<div class="alert alert-info">${i?.responseJSON?.msg}</div>`),e(".spinner-loading-overlay").hide(),console.log("An error occurred")},complete:function(){this1.find("input[type=submit]").attr("disabled",!1),this1.find(".reset-button").attr("disabled",!1),grecaptcha.reset()}})},"forgot-form"),!1}),e("body").on("keydown","input[name=pass]",function(i){if(e(this).closest("form").find("input[name=reqType]").length&&"Register"==e(this).closest("form").find("input[name=reqType]").val())return 32!==i.which}),e("#openpasslogin").click(function(i){i.preventDefault();var n=screen.width/2-300,t=screen.height/2-175,o=e("#Login").find("input[name=to]").val();window.open("https://authapi.geeksforgeeks.org/openpass-login/?to="+encodeURIComponent(o),"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+t+", left="+n)}),e("#openpasslogin-signup").click(function(i){i.preventDefault();var n=screen.width/2-300,t=screen.height/2-175,o=e("#Login").find("input[name=to]").val();window.open("https://authapi.geeksforgeeks.org/openpass-login/?to="+encodeURIComponent(o),"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+t+", left="+n)}),e("#fblogin").click(function(i){i.preventDefault();var n=screen.width/2-300,t=screen.height/2-175,r=e("#Login").find("input[name=rem]").is(":checked"),s=e("#Login").find("input[name=to]").val(),a=JSON.stringify(o());window.open("https://authapi.geeksforgeeks.org/fb-login/?to="+encodeURIComponent(s)+"&rem="+r+"&browserInfo="+a,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+t+", left="+n)}),e("#inlogin").click(function(i){i.preventDefault();var n=screen.width/2-300,t=screen.height/2-175,r=e("#Login").find("input[name=rem]").is(":checked"),s=e("#Login").find("input[name=to]").val(),a=JSON.stringify(o());window.open("https://authapi.geeksforgeeks.org/linkedin-login/?to="+encodeURIComponent(s)+"&rem="+r+"&browserInfo="+a,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+t+", left="+n)}),e("#gitlogin").click(function(i){i.preventDefault();var n=JSON.stringify(o()),t=screen.width/2-300,r=screen.height/2-175,s=e("#Login").find("input[name=rem]").is(":checked"),a=e("#Login").find("input[name=to]").val();window.open("https://authapi.geeksforgeeks.org/github-login/?to="+encodeURIComponent(a)+"&rem="+s+"&browserInfo="+n,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+r+", left="+t)}),e("#fbsignup").click(function(i){i.preventDefault();var n=screen.width/2-300,t=screen.height/2-175,r=e("#Login").find("input[name=rem]").is(":checked"),s=e("#Login").find("input[name=to]").val(),a=JSON.stringify(o());window.open("https://authapi.geeksforgeeks.org/fb-login/?to="+encodeURIComponent(s)+"&rem="+r+"&browserInfo="+a,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+t+", left="+n)}),e("#insignup").click(function(i){i.preventDefault();var n=screen.width/2-300,t=screen.height/2-175,r=e("#Login").find("input[name=rem]").is(":checked"),s=e("#Login").find("input[name=to]").val(),a=JSON.stringify(o());window.open("https://authapi.geeksforgeeks.org/linkedin-login/?to="+encodeURIComponent(s)+"&rem="+r+"&browserInfo="+a,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+t+", left="+n)}),e("#gitsignup").click(function(i){i.preventDefault();var n=JSON.stringify(o()),t=screen.width/2-300,r=screen.height/2-175,s=e("#Login").find("input[name=rem]").is(":checked"),a=e("#Login").find("input[name=to]").val();window.open("https://authapi.geeksforgeeks.org/github-login/?to="+encodeURIComponent(a)+"&rem="+s+"&browserInfo="+n,"_self","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=350,top="+r+", left="+t)}),e("#glogin").click(function(i){i.preventDefault();var n=e("#Login").find("input[name=rem]").is(":checked"),t=e("#Login").find("input[name=to]").val(),r=JSON.stringify(o());window.location="https://authapi.geeksforgeeks.org/google-login/?redirect="+encodeURIComponent(t)+"&remember="+n+"&browserInfo="+r}),e("#gsignup").click(function(i){i.preventDefault();var n=e("#Login").find("input[name=rem]").is(":checked"),t=e("#Login").find("input[name=to]").val(),r=JSON.stringify(o());window.location="https://authapi.geeksforgeeks.org/google-login/?redirect="+encodeURIComponent(t)+"&remember="+n+"&browserInfo="+r});try{requirejs.onError=function(e){if("mismatch"!==e.requireType)throw e;console.log("error: "+e)}}catch(e){console.log("error: "+e)}function o(){var e={};return e.appName=navigator.appName,e.appCodeName=navigator.appCodeName,e.cookieEnable=navigator.cookieEnabled,e.prodName=navigator.product,e.appVersion=navigator.appVersion,e.appOs=navigator.platform,e.appLang=navigator.language,e.vendorName=navigator.vendor,e.loginDomain="cdn",e}define("jquery",[],function(){return window.jQuery}),require.config({paths:{typeahead:gfgSiteUrl+"wp-content/themes/iconic-one/js/typeahead.jquery.min",bloodhound:gfgSiteUrl+"wp-content/themes/iconic-one/js/bloodhound.min"}}),require(["jquery","typeahead","bloodhound"],function(e,i,n){var t=new n({initialize:!1,datumTokenizer:n.tokenizers.obj.whitespace("value"),queryTokenizer:n.tokenizers.whitespace,sufficient:5,remote:{url:utilDjangoCfUrl+"api/institutes/%QUERY/all/",wildcard:"%QUERY",filter:function(e){return t.add(e),e}}});t.clearPrefetchCache(),t.initialize(),e("input.typeahead").typeahead({minLength:2,dynamic:!1,highlight:!0,cache:"sessionStorage",searchOnfocus:!0,offset:!0,blurOnTab:!0},{displaykey:"value",limit:15,source:t.ttAdapter(),accent:!0,templates:{empty:[""].join("\n")}})})});